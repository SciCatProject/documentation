
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Backend Â· SciCat Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 5.1.4">
        
        
        
    
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../../styles/website.css">
        
    


    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="configuration/jobconfig.html" />
    
    
    <link rel="prev" href="../configuration.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    SciCat Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../Users/">
            
                <a href="../../../Users/">
            
                    
                    User Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../../Users/Anonymous.html">
            
                <a href="../../../Users/Anonymous.html">
            
                    
                    Anonymous View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../../Users/Login.html">
            
                <a href="../../../Users/Login.html">
            
                    
                    Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../../Users/Dashboard.html">
            
                <a href="../../../Users/Dashboard.html">
            
                    
                    Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../../Users/Dataset_Details.html">
            
                <a href="../../../Users/Dataset_Details.html">
            
                    
                    Dataset Details
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../../Users/Dataset_Details_Files.html">
            
                <a href="../../../Users/Dataset_Details_Files.html">
            
                    
                    Dataset Filelisting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../../../Users/Dataset_Attachments.html">
            
                <a href="../../../Users/Dataset_Attachments.html">
            
                    
                    Dataset Attachments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="../../../Users/View_Raw_Metadata.html">
            
                <a href="../../../Users/View_Raw_Metadata.html">
            
                    
                    View Raw JSON data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.4" data-path="../../../Users/Edit_Scientific_Metadata.html">
            
                <a href="../../../Users/Edit_Scientific_Metadata.html">
            
                    
                    Edit Scientific Metadata
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../../Users/Publishing.html">
            
                <a href="../../../Users/Publishing.html">
            
                    
                    Dataset Publishing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../../Users/Jobs.html">
            
                <a href="../../../Users/Jobs.html">
            
                    
                    Archival and Retrieval Jobs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../../Users/SampleData.html">
            
                <a href="../../../Users/SampleData.html">
            
                    
                    Sample Data Entry
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../../Operator/">
            
                <a href="../../../Operator/">
            
                    
                    Operator Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../../Operator/Step_by_Step_Setup.html">
            
                <a href="../../../Operator/Step_by_Step_Setup.html">
            
                    
                    Step by Step instruction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../../Operator/Step_by_Step_Setup_Docker.html">
            
                <a href="../../../Operator/Step_by_Step_Setup_Docker.html">
            
                    
                    Deploy with Docker Compose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../../Operator/Step_by_Step_Setup_Kubernetes.html">
            
                <a href="../../../Operator/Step_by_Step_Setup_Kubernetes.html">
            
                    
                    Deploy with Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../../Operator/Step_by_Step_Setup_Zip_Service.html">
            
                <a href="../../../Operator/Step_by_Step_Setup_Zip_Service.html">
            
                    
                    Deploy Zip Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../../Ingestor/">
            
                <a href="../../../Ingestor/">
            
                    
                    Ingestor Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../../Ingestor/ingestManual.html">
            
                <a href="../../../Ingestor/ingestManual.html">
            
                    
                    Ingest Manual PSI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../../Ingestor/IngestManual_ESS.html">
            
                <a href="../../../Ingestor/IngestManual_ESS.html">
            
                    
                    Ingest Instructions ESS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../../Ingestor/GettingMetadataIntoScicat.html">
            
                <a href="../../../Ingestor/GettingMetadataIntoScicat.html">
            
                    
                    Manual Ingest the Hard Way
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../">
            
                <a href="../../">
            
                    
                    Developers Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../v3.x/">
            
                <a href="../../v3.x/">
            
                    
                    v3.x
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../../v3.x/StartHere.html">
            
                <a href="../../v3.x/StartHere.html">
            
                    
                    Overview of Backend and Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../../v3.x/Data_Model.html">
            
                <a href="../../v3.x/Data_Model.html">
            
                    
                    An Introduction to the Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="../../v3.x/Running.html">
            
                <a href="../../v3.x/Running.html">
            
                    
                    Running the Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="../../v3.x/Configuration.html">
            
                <a href="../../v3.x/Configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.5" data-path="../../v3.x/Theming.html">
            
                <a href="../../v3.x/Theming.html">
            
                    
                    Theming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.6" data-path="../../v3.x/Login.html">
            
                <a href="../../v3.x/Login.html">
            
                    
                    Login and Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.7" data-path="../../v3.x/OIDC.html">
            
                <a href="../../v3.x/OIDC.html">
            
                    
                    OIDC Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.8" data-path="../../v3.x/Ngrx.html">
            
                <a href="../../v3.x/Ngrx.html">
            
                    
                    State Management in Angular
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.9" data-path="../../v3.x/Testing_backend.html">
            
                <a href="../../v3.x/Testing_backend.html">
            
                    
                    Testing Backend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.10" data-path="../../v3.x/Testing.html">
            
                <a href="../../v3.x/Testing.html">
            
                    
                    Testing Frontend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.11" data-path="../../v3.x/Contributing.html">
            
                <a href="../../v3.x/Contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.12" data-path="../../v3.x/Development_Methods.html">
            
                <a href="../../v3.x/Development_Methods.html">
            
                    
                    Git Flow Workflow
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../">
            
                <a href="../">
            
                    
                    v4.x
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../overview.html">
            
                <a href="../overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../Data_Model.html">
            
                <a href="../Data_Model.html">
            
                    
                    An Introduction to the Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="../running.html">
            
                <a href="../running.html">
            
                    
                    Running the Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4" data-path="../configuration.html">
            
                <a href="../configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.5.2.4.1" data-path="configuration.html">
            
                <a href="configuration.html">
            
                    
                    Backend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.4.1.1" data-path="configuration/jobconfig.html">
            
                <a href="configuration/jobconfig.html">
            
                    
                    Jobs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.4.2" data-path="authorization.html">
            
                <a href="authorization.html">
            
                    
                    Authorization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.4.2.1" data-path="authorization/authorization_datasets.html">
            
                <a href="authorization/authorization_datasets.html">
            
                    
                    Datasets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4.2.2" data-path="authorization/authorization_origdatablocks.html">
            
                <a href="authorization/authorization_origdatablocks.html">
            
                    
                    OrigDatablocks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4.2.3" data-path="authorization/authorization_proposals.html">
            
                <a href="authorization/authorization_proposals.html">
            
                    
                    Proposals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4.2.4" data-path="authorization/authorization_jobs.html">
            
                <a href="authorization/authorization_jobs.html">
            
                    
                    Jobs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4.2.5" data-path="authorization/authorization_instruments.html">
            
                <a href="authorization/authorization_instruments.html">
            
                    
                    Instruments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4.2.6" data-path="authorization/authorization_users.html">
            
                <a href="authorization/authorization_users.html">
            
                    
                    Users
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4.2.7" data-path="authorization/authorization_samples.html">
            
                <a href="authorization/authorization_samples.html">
            
                    
                    Samples
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.4.3" data-path="../elasticsearch/elasticsearch.html">
            
                <a href="../elasticsearch/elasticsearch.html">
            
                    
                    Elastic Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4.4" data-path="../frontend/configuration.html">
            
                <a href="../frontend/configuration.html">
            
                    
                    Frontend
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.5" data-path="../Theming.md">
            
                <span>
            
                    
                    Theming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6" data-path="../Login.html">
            
                <a href="../Login.html">
            
                    
                    Login and Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.7" data-path="../OIDC.md">
            
                <span>
            
                    
                    OIDC Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.8" data-path="../testing.md">
            
                <span>
            
                    
                    Testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.8.1" data-path="testing_backend.html">
            
                <a href="testing_backend.html">
            
                    
                    Backend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.8.1.1" data-path="testing/instrument.html">
            
                <a href="testing/instrument.html">
            
                    
                    Instrument
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.8.1.2" data-path="testing/user_authorization.html">
            
                <a href="testing/user_authorization.html">
            
                    
                    User Authorization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.8.2" data-path="../frontend/testing.md">
            
                <span>
            
                    
                    Frontend
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.9" data-path="../Migration.html">
            
                <a href="../Migration.html">
            
                    
                    Migration v3.x to v4.x
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../Documentation.html">
            
                <a href="../../Documentation.html">
            
                    
                    Documentation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >Backend</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="configuration">Configuration</h1>
<p>When using the official release image, Backend configuration can be achieved by setting
the environmental variables listed below through an orchestration/containerization
system, the <em>.env</em> file, or with a suitable method compatible with your environment. The
current source code contains an example <em>.env</em> file, named <code>.env.example</code>, listing all the
environment variable available to configure the backend.</p>
<p>If you are compiling the application from source, you can edit the file
<code>src/config/configuration.ts</code> with the correct values for your infrastructure. This
option is still undocumented, although it is our intention to provide a detailed how-to
guide as soon as we can.</p>
<h2 id="environment-variables">Environment Variables</h2>
<p>This is the complete list of environment variable that can be used to configure SciCat
backend. The list is compiled according to the configuration class defined in
<em>src/config/configuration.ts</em></p>
<ul>
<li><p>ADMIN_GROUPS:
list of groups that have admin priviliges
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed</p>
</li>
<li><p>DELETE_GROUPS:
list of groups that are allowed to delete content
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed</p>
</li>
<li><p>CREATE_DATASET_GROUPS:
list of non admin groups that are allowed to create datasets without pid. The pid is
assigned by the system. If set to "all", all users can create a dataset belonging to
any of the groups they belong to.
<em>default</em>: "#all"
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed</p>
</li>
<li><p>CREATE_DATASET_WITH_PID_GROUPS:
list of non admin groups that are allowed to create datasets with explicit pid. If set
to "#all", all users can create a dataset belonging to any of the groups they belong
to and with esplicit pid.
If the pid verification is enabled, pid will be validated agains the specification passed.
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed</p>
</li>
<li><p>CREATE_DATASET_PRIVILEGED_GROUPS:
list of non admin groups that are allowed to create datasets for groups they do not
belong to. If set to "#all", all users can create a dataset belonging to any group
with explicit pid.
If the pid verification is enabled, pid will be validated agains the specification passed.
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed</p>
</li>
<li><p>PROPOSAL_GROUPS:
list of non admin groups that are allowed to create and update proposals for groups
they do not belong to. If set to "#all", all users can create a dataset belonging to
any group with explicit pid.
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed</p>
</li>
<li><p>SAMPLE_GROUPS:
list of non admin groups that are allowed to create and update samples for the groups
they belong to. If set to "#all", all users can create a dataset belonging to their
group.
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed</p>
</li>
<li><p>SAMPLE_PRIVILEGED_GROUPS:
list of non admin groups that are allowed to create samples for any groups, but can
only update samples belonging to groups they belong to.
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed</p>
</li>
<li><p>CREATE_JOB_GROUPS:
list of non admin groups that are allowed to create jobs for groups
they do not belong to. If set to "#all", all users can create a job belonging to
any group.
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed
<em>example</em>: "group1,group2,group3,..."</p>
</li>
<li><p>UPDATE_JOB_GROUPS:
list of non admin groups that are allowed to update jobs for groups
they do not belong to. If set to "#all", all users can update a job belonging to
any group.
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed
<em>example</em>: "group1,group2,group3,..."</p>
</li>
<li><p>DELETE_JOB_GROUPS:
list of non admin groups that are allowed to delete jobs for groups
they do not belong to. If set to "#all", all users can delete a job belonging to
any group.
<em>default</em>: ""
<em>format</em>: comma separated list of strings. Leading and trailing spaces are trimmed
<em>example</em>: "group1,group2,group3,..."</p>
</li>
<li><p>ACCESS_GROUPS_STATIC_VALUES:
List of groups assigned by default to all users. Used in the vanilla implementation
for easy configuration. If you do not want or need to assign any default group, it
should be set to empty string "".
<em>default</em>: ""
<em>format</em>: Comman separated list of strings. Leading and trailing spaces are trimmed
<em>example</em>: "group1,group2,group3,..."</p>
</li>
<li><p>ACCESS_GROUP_SERVICE_TOKEN:
Access token needed to access the API specified in ACCESS_GROUP_SERVICE_API_URL,
used to retrieve access groups from a third party system.
<em>format</em>: string</p>
</li>
<li><p>ACCESS_GROUP_SERVICE_API_URL:
Well formed url of the service API used to provide access groups. Only one value is
allowed.
<em>format</em>: string
<em>example</em>: "<a href="https://my.access.group/service/api/url" target="_blank">https://my.access.group/service/api/url</a>"</p>
</li>
<li><p>DOI<em>PREFIX:
The facility DOI prefix, with trailing slash.
_default</em>: ""
<em>format</em>: string</p>
</li>
<li><p>EXPRESS_SESSION_SECRET:
Secret used to set up express session.
<em>default</em>: ""
<em>format</em>: string</p>
</li>
<li><p>LOGOUT_URL:
URL specified upon successful logout. It is returned in the json object for the frontend, or third party UI, to be used locally.
<em>default</em>: ""
<em>format</em>: string</p>
</li>
<li><p>HTTP_MAX_REDIRECTS:
Max number of redirects for http requests.
<em>default</em>: 5
<em>format</em>: integer</p>
</li>
<li><p>HTTP_TIMEOUT:
Timeout from http requests in ms.
<em>default</em>: 5000
<em>format</em>: integer</p>
</li>
<li><p>JWT<em>SECRET:
The secret used to create any JWT token, used for authorization.
_default</em>: ""
<em>format</em>: string</p>
</li>
<li><p>JWT_EXPIRES_IN:
Expiration time of any JWT token in seconds.
<em>default</em>: 3600 (s)
<em>format</em>: integer</p>
</li>
<li><p>JWT_NEVER_EXPIRES:
Length of time that the never expiring jwt token will last.
<em>default</em>: 100y
<em>format</em>: string as in number of years</p>
</li>
<li><p>LDAP_URL:
Full URI (including port) of your local LDAP server, if this is your selected
authentication method.
<em>default</em>: No default
<em>example</em>: ldaps://ldap.server.com:636/
<em>format</em>: string</p>
</li>
<li><p>LDAP_BIND_DN:
Bind DN to access information on your LDAP server.
<em>default</em>: No default
<em>format</em>: string</p>
</li>
<li><p>LDAP_BIND_CREDENTIALS:
Credentials associated with your bind DN to acccess your LDAP server.
<em>default</em>: No default
<em>format</em>: string</p>
</li>
<li><p>LDAP_SEARCH_BASE:
Search base for your LDAP server.
<em>default</em>: No default
<em>format</em>: string</p>
</li>
<li><p>LDAP_SEARCH_FILTER:
Search filter for you LDAP server.
<em>default</em>: No default
<em>format</em>: string
<em>example</em>: "(LDAPUsername=)"</p>
</li>
<li><p>LDAP_MODE:
type of ldap server we are communicating with.
<strong><em>(NEEDS TO BE UPDATED. Not sure which other values are accepted)</em></strong>
<em>default</em>: ad
<em>format</em>: string
<em>acceptable values</em>: ad</p>
</li>
<li><p>LDAP_EXTERNAL_ID:
LDAP matching field that provides the external id
<em>default</em>: sAMAccountName
<em>format</em>: string</p>
</li>
<li><p>LDAP_USERNAME:
LDAP field providing the username
<em>default</em>: displayName
<em>format</em>: string</p>
</li>
<li><p>OIDC_ISSUER:
Full URL of your OIDC identity provider
<em>default</em>: No default
<em>format</em>: string
<em>example</em>: "<a href="https://identity.your.facility/your/realm" target="_blank">https://identity.your.facility/your/realm</a>"</p>
</li>
<li><p>OIDC_CLIENT_ID:
Client id used to convert OIDC code to OIDC token. This is assigned in the OIDC
service when the token is generated
<em>default</em>: No default
<em>format</em>: string
<em>example</em>: "scicat"</p>
</li>
<li><p>OIDC_CLIENT_SECRET:
Token used to convert OIDC code to OIDC token. This is assigned in the OIDC service
when the token is generated
<em>example</em>: "90f1268..."</p>
</li>
<li><p>OIDC_CALLBACK_URL:
URL of the endpoint that is called when the authentication has been executed with the
OIDC service.
<em>default</em>: No default
<em>format</em>: string
<em>example</em>: "<a href="http://localhost:3000/api/v3/oidc/callback" target="_blank">http://localhost:3000/api/v3/oidc/callback</a>"</p>
</li>
<li><p>OIDC_SCOPE:
Information returned by the OIDC service together with token
<em>default</em>: No default
<em>format</em>: string
<em>example</em>: "openid profile email"</p>
</li>
<li><p>OIDC_SUCCESS_URL:
Frontend URL that the user is directed to after a successful authentication. It must
be a valid frontend URL.
<em>default</em>: No default
<em>format</em>: string
<em>example</em>: "<a href="http://localhost:3000/Datasets" target="_blank">http://localhost:3000/Datasets</a>"</p>
</li>
<li><p>OIDC_ACCESS_GROUPS:
field used to retrieve access groups from the OIDC service. It is not used in the
vanilla implementation.
<em>default</em>: No default
<em>format</em>: string
<em>example</em>: "access_groups"</p>
</li>
<li><p>OIDC_ACCESS_GROUPS_PROPERTY:
name of the OIDC property used to retrieve the users groups from OIDC.
<em>default</em>: none
<em>format</em>: string</p>
</li>
<li><p>OIDC_AUTO_LOGOUT:
if enabled, when login out from SciCat, we logout from OIDC also.
<em>default</em>: false
<em>format</em>: boolean</p>
</li>
<li><p>OIDC_RETURN_URL:
URL the user is redirected after a successful logout
<em>default</em>: none
<em>format</em>: string</p>
</li>
<li><p>LOGBOOK_ENABLED:
Flag to enable/disable the Logbook endpoints.
accept values: "yes", "no"
<em>default</em>: no
<em>format</em>: string</p>
</li>
<li><p>LOGBOOK_BASE_URL:
The base URL to the SciChat wrapper API. Only required if Logbook is enabled.
<em>default</em>: "<a href="http://localhost:3030/scichatapi" target="_blank">http://localhost:3030/scichatapi</a>"
<em>format</em>: string</p>
</li>
<li><p>LOGBOOK_USERNAME:
The username used to authenticate to the SciChat wrapper API. Only required if Logbook
is enabled.
<em>default</em>: No default
<em>format</em>: string</p>
</li>
<li><p>LOGBOOK_PASSWORD:
The password used to authenticate to the SciChat wrapper API. Only required if Logbook
is enabled.
<em>default</em>: No default
<em>format</em>: string</p>
</li>
<li><p>METADATA_KEYS_RETURN_LIMIT:
The maximum number of keys returned by the <code>/Datasets/metadataKeys</code> endpoint.
<em>default</em>: No default
<em>format</em>: integer</p>
</li>
<li><p>METADATA_PARENT_INSTANCES_RETURN_LIMIT:
The maximum number of Datasets used to extract metadata keys in the
<code>/Datasets/metadataKeys</code> endpoint.
<em>default</em>: No default
<em>format</em>: integer</p>
</li>
<li><p>MONGODB_URI:
The URI for your MongoDB instance.
<em>default</em>: No default
<em>format</em>: string "mongodb://<username>:&lt;PASSWORD&gt;@<host>:27017/<db_name>"</db_name></host></username></p>
</li>
<li><p>OAI_PROVIDER_ROUTE:
URI to OAI provider, which is used in the <code>/publisheddata/:id/resync</code> endpoint.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>PID_PREFIX:
The facility PID prefix, with trailing slash.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>PUBLIC_URL_PREFIX:
The base URL to the facility Landing Page.
<em>default</em>: No default
<em>format</em>: string
<em>example</em>: "<a href="https://doi.ess.eu/detail/" target="_blank">https://doi.ess.eu/detail/</a>"</p>
</li>
<li><p>PORT:
The port on which the backend listen on.
<em>default</em>: 3000
<em>format</em>: integer</p>
</li>
<li><p>RABBITMQ_ENABLED:
Flag to enable/disable RabbitMQ consumer. Accepted values: "yes", "no"
<em>default</em>: no
<em>format</em>: string</p>
</li>
<li><p>RABBITMQ_HOSTNAME:
The hostname of the RabbitMQ message broker. Only required if RabbitMQ is enabled.
<em>default</em>: no default
<em>default</em>: string</p>
</li>
<li><p>RABBITMQ_PORT:
The port of the RabbitMQ message broker. Only required if RabbitMQ is enabled.
<em>default</em>: no default
<em>default</em>: number</p>
</li>
<li><p>RABBITMQ_USERNAME:
The username used to authenticate to the RabbitMQ message broker. Only required if
RabbitMQ is enabled.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>RABBITMQ_PASSWORD:
The password used to authenticate to the RabbitMQ message broker. Only required if
RabbitMQ is enabled.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>REGISTER_DOI_URI:
URI to the organization that registers the facilities DOIs.
<em>default</em>: no default
<em>format</em>: string
<em>example</em>: "<a href="https://mds.test.datacite.org/doi" target="_blank">https://mds.test.datacite.org/doi</a>"</p>
</li>
<li><p>REGISTER_METADATA_URI:
URI to the organization that registers the facilities published data metadata.
<em>default</em>: no default
<em>format</em>: string
<em>example</em>: ="<a href="https://mds.test.datacite.org/metadata" target="_blank">https://mds.test.datacite.org/metadata</a>"</p>
</li>
<li><p>DOI_USERNAME:
Username used to authenticate on the DOI site
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>DOI_PASSWORD:
Password used to authenticate on the DOI site
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>SITE:
The name of your site.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>EMAIL_TYPE:
The type of your email provider.
Values "smtp" or "ms365".
<em>default</em>: smtp
<em>format</em>: string</p>
</li>
<li><p>EMAIL_FROM:
Email address that emails should be sent from.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>SMTP_HOST:
Host of SMTP server.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>SMTP_PORT:
Port of SMTP server.
<em>default</em>: 587
<em>format</em>: number</p>
</li>
<li><p>SMTP_SECURE:
Use encrypted SMTPS.
<em>default</em>: no
<em>format</em>: string</p>
</li>
<li><p>MS365_TENANT_ID:
Tenant ID for sending emails over Microsoft Graph API.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>MS365_CLIENT_ID:
Client ID for sending emails over Microsoft Graph API.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>MS365_CLIENT_SECRET:
Client Secret for sending emails over Microsoft Graph API.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>POLICY_PUBLICATION_SHIFT:
Number of years that needs to elapse before the dataset is made publicly acceessible
<em>default</em>: 3
<em>format</em>: integer</p>
</li>
<li><p>POLICY_RETENTION_SHIFT:
Number of years that the datasets are kept online before are archived or deleted. A
negative value means that they are never archived/deleted
<em>default</em>: -1
<em>format</em>: integer</p>
</li>
<li><p>ELASTICSEARCH_ENABLED:
Flag to enable/disable the ElasticSearch service
accept values: "yes", "no"
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>ES_HOST:
The base URL to the Elasticsearch cluster. Use <code>http</code> if xpack.security is disabled
<em>default</em>: no default
<em>format</em>: string
<em>example</em>: "<a href="https://localhost:9200" target="_blank">https://localhost:9200</a>" or "<a href="http://localhost:9200" target="_blank">http://localhost:9200</a>"</p>
</li>
<li><p>MONGODB_COLLECTION:
Collection name to be mapped into specified Elasticsearch index
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>ES_MAX_RESULT:
Maximum records can be indexed into Elasticsearch.
<em>default</em>: 10000
<em>format</em>: number</p>
</li>
<li><p>ES_FIELDS_LIMIT:
The total number of fields in an index.
<em>default</em>: 1000
<em>format</em>: number</p>
</li>
<li><p>ES_INDEX:
The total number of fields in an index.
<em>default</em>: no default
<em>format</em>: string</p>
</li>
<li><p>ES_REFRESH:
The total number of fields in an index.
accept values: true, false, "wait<em>for"
_default</em>: false
<em>format</em>: boolean or string</p>
</li>
<li><p>ES_USERNAME:
Elasticsearch cluster username.
<em>default</em>: no default, optional.
<em>format</em>: string</p>
</li>
<li><p>ELASTIC_PASSWORD:
Elasticsearch cluster password.
<em>default</em>: no default.
<em>format</em>: string</p>
</li>
<li><p>JOB_CONFIGURATION_FILE:
Configuration file for <a href="configuration/jobconfig.html">job actions</a>.
If omitted, the jobs subsystem is inactive.
<em>default</em>: "jobConfig.yaml", optional.
<em>format</em>: string</p>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../configuration.html" class="navigation navigation-prev " aria-label="Previous page: Configuration">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="configuration/jobconfig.html" class="navigation navigation-next " aria-label="Next page: Jobs">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Backend","level":"1.5.2.4.1","depth":4,"next":{"title":"Jobs","level":"1.5.2.4.1.1","depth":5,"path":"Development/v4.x/backend/configuration/jobconfig.md","ref":"Development/v4.x/backend/configuration/jobconfig.md","articles":[]},"previous":{"title":"Configuration","level":"1.5.2.4","depth":3,"path":"Development/v4.x/configuration.md","ref":"Development/v4.x/configuration.md","articles":[{"title":"Backend","level":"1.5.2.4.1","depth":4,"path":"Development/v4.x/backend/configuration.md","ref":"Development/v4.x/backend/configuration.md","articles":[{"title":"Jobs","level":"1.5.2.4.1.1","depth":5,"path":"Development/v4.x/backend/configuration/jobconfig.md","ref":"Development/v4.x/backend/configuration/jobconfig.md","articles":[]}]},{"title":"Authorization","level":"1.5.2.4.2","depth":4,"path":"Development/v4.x/backend/authorization.md","ref":"Development/v4.x/backend/authorization.md","articles":[{"title":"Datasets","level":"1.5.2.4.2.1","depth":5,"path":"Development/v4.x/backend/authorization/authorization_datasets.md","ref":"Development/v4.x/backend/authorization/authorization_datasets.md","articles":[]},{"title":"OrigDatablocks","level":"1.5.2.4.2.2","depth":5,"path":"Development/v4.x/backend/authorization/authorization_origdatablocks.md","ref":"Development/v4.x/backend/authorization/authorization_origdatablocks.md","articles":[]},{"title":"Proposals","level":"1.5.2.4.2.3","depth":5,"path":"Development/v4.x/backend/authorization/authorization_proposals.md","ref":"Development/v4.x/backend/authorization/authorization_proposals.md","articles":[]},{"title":"Jobs","level":"1.5.2.4.2.4","depth":5,"path":"Development/v4.x/backend/authorization/authorization_jobs.md","ref":"Development/v4.x/backend/authorization/authorization_jobs.md","articles":[]},{"title":"Instruments","level":"1.5.2.4.2.5","depth":5,"path":"Development/v4.x/backend/authorization/authorization_instruments.md","ref":"Development/v4.x/backend/authorization/authorization_instruments.md","articles":[]},{"title":"Users","level":"1.5.2.4.2.6","depth":5,"path":"Development/v4.x/backend/authorization/authorization_users.md","ref":"Development/v4.x/backend/authorization/authorization_users.md","articles":[]},{"title":"Samples","level":"1.5.2.4.2.7","depth":5,"path":"Development/v4.x/backend/authorization/authorization_samples.md","ref":"Development/v4.x/backend/authorization/authorization_samples.md","articles":[]}]},{"title":"Elastic Search","level":"1.5.2.4.3","depth":4,"path":"Development/v4.x/elasticsearch/elasticsearch.md","ref":"Development/v4.x/elasticsearch/elasticsearch.md","articles":[]},{"title":"Frontend","level":"1.5.2.4.4","depth":4,"path":"Development/v4.x/frontend/configuration.md","ref":"Development/v4.x/frontend/configuration.md","articles":[]}]},"articles":[{"title":"Jobs","level":"1.5.2.4.1.1","depth":5,"path":"Development/v4.x/backend/configuration/jobconfig.md","ref":"Development/v4.x/backend/configuration/jobconfig.md","articles":[]}],"dir":"ltr"},"config":{"plugins":["chapter-fold","mermaid-gb3"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"chapter-fold":{},"mermaid-gb3":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"SciCat Documentation","gitbook":"*"},"file":{"path":"Development/v4.x/backend/configuration.md","mtime":"2025-04-14T13:35:11.062Z","type":"markdown"},"gitbook":{"version":"5.1.4","time":"2025-04-14T13:35:16.812Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-mermaid-gb3/book/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    <script src="../../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.min.js"></script>

    </body>
</html>

