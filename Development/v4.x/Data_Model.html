
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>An Introduction to the Data Model Â· SciCat Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 5.1.4">
        
        
        
    
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    


    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="running.html" />
    
    
    <link rel="prev" href="developers_guide.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    SciCat Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../Users/">
            
                <a href="../../Users/">
            
                    
                    User Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../Users/Anonymous.html">
            
                <a href="../../Users/Anonymous.html">
            
                    
                    Anonymous View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../Users/Login.html">
            
                <a href="../../Users/Login.html">
            
                    
                    Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../Users/Dashboard.html">
            
                <a href="../../Users/Dashboard.html">
            
                    
                    Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../Users/Dataset_Details.html">
            
                <a href="../../Users/Dataset_Details.html">
            
                    
                    Dataset Details
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../Users/Dataset_Details_Files.html">
            
                <a href="../../Users/Dataset_Details_Files.html">
            
                    
                    Dataset Filelisting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../../Users/Dataset_Attachments.html">
            
                <a href="../../Users/Dataset_Attachments.html">
            
                    
                    Dataset Attachments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="../../Users/View_Raw_Metadata.html">
            
                <a href="../../Users/View_Raw_Metadata.html">
            
                    
                    View Raw JSON data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.4" data-path="../../Users/Edit_Scientific_Metadata.html">
            
                <a href="../../Users/Edit_Scientific_Metadata.html">
            
                    
                    Edit Scientific Metadata
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../Users/Publishing.html">
            
                <a href="../../Users/Publishing.html">
            
                    
                    Dataset Publishing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../Users/Jobs.html">
            
                <a href="../../Users/Jobs.html">
            
                    
                    Archival and Retrieval Jobs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../Users/SampleData.html">
            
                <a href="../../Users/SampleData.html">
            
                    
                    Sample Data Entry
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../Operator/">
            
                <a href="../../Operator/">
            
                    
                    Operator Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../Operator/Step_by_Step_Setup.html">
            
                <a href="../../Operator/Step_by_Step_Setup.html">
            
                    
                    Step by Step instruction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../Operator/Step_by_Step_Setup_Docker.html">
            
                <a href="../../Operator/Step_by_Step_Setup_Docker.html">
            
                    
                    Deploy with Docker Compose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../Operator/Step_by_Step_Setup_Kubernetes.html">
            
                <a href="../../Operator/Step_by_Step_Setup_Kubernetes.html">
            
                    
                    Deploy with Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../Operator/Step_by_Step_Setup_Zip_Service.html">
            
                <a href="../../Operator/Step_by_Step_Setup_Zip_Service.html">
            
                    
                    Deploy Zip Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../Ingestor/">
            
                <a href="../../Ingestor/">
            
                    
                    Ingestor Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../Ingestor/ingestManual.html">
            
                <a href="../../Ingestor/ingestManual.html">
            
                    
                    Ingest Manual PSI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../Ingestor/IngestManual_ESS.html">
            
                <a href="../../Ingestor/IngestManual_ESS.html">
            
                    
                    Ingest Instructions ESS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../Ingestor/GettingMetadataIntoScicat.html">
            
                <a href="../../Ingestor/GettingMetadataIntoScicat.html">
            
                    
                    Manual Ingest the Hard Way
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../">
            
                <a href="../">
            
                    
                    Developers Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../v3.x/">
            
                <a href="../v3.x/">
            
                    
                    v3.x
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../v3.x/StartHere.html">
            
                <a href="../v3.x/StartHere.html">
            
                    
                    Overview of Backend and Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../v3.x/Data_Model.html">
            
                <a href="../v3.x/Data_Model.html">
            
                    
                    An Introduction to the Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="../v3.x/Running.html">
            
                <a href="../v3.x/Running.html">
            
                    
                    Running the Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="../v3.x/Configuration.html">
            
                <a href="../v3.x/Configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.5" data-path="../v3.x/Theming.html">
            
                <a href="../v3.x/Theming.html">
            
                    
                    Theming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.6" data-path="../v3.x/Login.html">
            
                <a href="../v3.x/Login.html">
            
                    
                    Login and Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.7" data-path="../v3.x/OIDC.html">
            
                <a href="../v3.x/OIDC.html">
            
                    
                    OIDC Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.8" data-path="../v3.x/Ngrx.html">
            
                <a href="../v3.x/Ngrx.html">
            
                    
                    State Management in Angular
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.9" data-path="../v3.x/Testing_backend.html">
            
                <a href="../v3.x/Testing_backend.html">
            
                    
                    Testing Backend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.10" data-path="../v3.x/Testing.html">
            
                <a href="../v3.x/Testing.html">
            
                    
                    Testing Frontend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.11" data-path="../v3.x/Contributing.html">
            
                <a href="../v3.x/Contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.12" data-path="../v3.x/Development_Methods.html">
            
                <a href="../v3.x/Development_Methods.html">
            
                    
                    Git Flow Workflow
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="./">
            
                <a href="./">
            
                    
                    v4.x
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="overview.html">
            
                <a href="overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="contributing.html">
            
                <a href="contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="developers_guide.html">
            
                <a href="developers_guide.html">
            
                    
                    Developer Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.2.4" data-path="Data_Model.html">
            
                <a href="Data_Model.html">
            
                    
                    An Introduction to the Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.5" data-path="running.html">
            
                <a href="running.html">
            
                    
                    Running the Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6" data-path="configuration.html">
            
                <a href="configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.6.1" data-path="backend/configuration.html">
            
                <a href="backend/configuration.html">
            
                    
                    Backend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.6.1.1" data-path="backend/configuration/jobconfig.html">
            
                <a href="backend/configuration/jobconfig.html">
            
                    
                    Jobs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2" data-path="backend/authorization.html">
            
                <a href="backend/authorization.html">
            
                    
                    Authorization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.6.2.1" data-path="backend/authorization/authorization_datasets.html">
            
                <a href="backend/authorization/authorization_datasets.html">
            
                    
                    Datasets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.2" data-path="backend/authorization/authorization_origdatablocks.html">
            
                <a href="backend/authorization/authorization_origdatablocks.html">
            
                    
                    OrigDatablocks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.3" data-path="backend/authorization/authorization_proposals.html">
            
                <a href="backend/authorization/authorization_proposals.html">
            
                    
                    Proposals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.4" data-path="backend/authorization/authorization_jobs.html">
            
                <a href="backend/authorization/authorization_jobs.html">
            
                    
                    Jobs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.5" data-path="backend/authorization/authorization_instruments.html">
            
                <a href="backend/authorization/authorization_instruments.html">
            
                    
                    Instruments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.6" data-path="backend/authorization/authorization_users.html">
            
                <a href="backend/authorization/authorization_users.html">
            
                    
                    Users
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.7" data-path="backend/authorization/authorization_samples.html">
            
                <a href="backend/authorization/authorization_samples.html">
            
                    
                    Samples
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.3" data-path="elasticsearch/elasticsearch.html">
            
                <a href="elasticsearch/elasticsearch.html">
            
                    
                    Elastic Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.4" data-path="frontend/configuration.html">
            
                <a href="frontend/configuration.html">
            
                    
                    Frontend
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.7" data-path="Theming.md">
            
                <span>
            
                    
                    Theming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.8" data-path="Login.html">
            
                <a href="Login.html">
            
                    
                    Login and Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.9" data-path="OIDC.md">
            
                <span>
            
                    
                    OIDC Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.10" data-path="testing.md">
            
                <span>
            
                    
                    Testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.10.1" data-path="backend/testing_backend.html">
            
                <a href="backend/testing_backend.html">
            
                    
                    Backend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.10.1.1" data-path="backend/testing/instrument.html">
            
                <a href="backend/testing/instrument.html">
            
                    
                    Instrument
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.10.1.2" data-path="backend/testing/user_authorization.html">
            
                <a href="backend/testing/user_authorization.html">
            
                    
                    User Authorization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.10.2" data-path="frontend/testing.md">
            
                <span>
            
                    
                    Frontend
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.11" data-path="Migration.html">
            
                <a href="Migration.html">
            
                    
                    Migration v3.x to v4.x
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../Documentation.html">
            
                <a href="../Documentation.html">
            
                    
                    Documentation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >An Introduction to the Data Model</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="an-introduction-to-the-data-model">An Introduction to the Data Model</h1>
<h2 id="model">Model</h2>
<p>There are many models within the catalog and many of them are self explanatory. The API server creates routes for creation, retrieval, modification and deletion. However, it is worth explaining the core models that are used.</p>
<p>The following graph shows a simplified class diagramm of the main model classes. It was generated semi-automatically from the swagger.json file using the <a href="https://github.com/opendata-for-all/wapiml" target="_blank">WAPIml tool</a></p>
<p><img src="img/Class_Diagram.PNG" alt="Model Diagram"></img></p>
<h3 id="the-ownable-base-model">The Ownable base model</h3>
<p>Most models inherit the ownable base model which regulates access based on the ownerGroup/ accessGroups fields. Relationships are defined by including the ID of the respective model (handled by loopback model definitions).</p>
<h3 id="dataset">Dataset</h3>
<p>This is the base class for all datasets, and is derived from the
Ownable model.  There are two classes that are derived from Dataset:
<a href="#rawdataset">RawDataset</a> and <a href="#deriveddataset">DerivedDataset</a>.</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/Dataset.create" target="_blank">here</a>.</p>
<h4 id="rawdataset">RawDataset</h4>
<p>This is a dataset that has been collected from an experiment. It contains details about who owns it, contact information etc. Most importantly, it contains <code>Scientific Metadata</code>, and this is an extensible object to outline all parameters relevant to the dataset.</p>
<p>Each raw dataset may contain a link to a single Proposal.</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/RawDataset.create" target="_blank">here</a>.</p>
<h4 id="deriveddataset">DerivedDataset</h4>
<p>These are datasets that are created by analyzing the data in raw datasets. The fields allow to link both to the raw data files used in the analysis as well as to a software repository which keeps the source code used for the analysis, thus helping to keep track of the provenance of the data. You can add ScientificMetadata here as well.</p>
<p>Although DerivedDataset does not contain a link to a Proposal, it may
be deduced.  A corresponding Proposal may be found by identifying all
input RawDatasets (either directly or indirectly via other
DerivedDatasets) from the inputDatasets field.  These RawDatasets may
contain links to the corresponding Proposal.</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/DerivedDataset.create" target="_blank">here</a>.</p>
<h4 id="datasetlifecycle">DatasetLifecycle</h4>
<p>There are many temporal operations for a dataset describing what happens to the Dataset during its lifetime. Therefore, this model contains information relating to the status of the dataset but not the metadata itself. The archive location, date that it should become public and information about archiving or retrieval. Technically the DatasetLifecycle is however <code>embedded</code> into the Dataset documents.</p>
<p>The data model and its API endpoints are therefore described as part of the Dataset model.</p>
<h3 id="instrument">Instrument</h3>
<p>This collection is meant to store the available measurement instruments, ideally in a globally unique naming scheme (within the Expands/Panosc EU programs standardization on these topics is pursued). Datasets can link to these instruments (in addition to the creationLocation field), allowing for more detailed information about the measurement devices.</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/Instrument.create" target="_blank">here</a>.</p>
<h3 id="technique">Technique</h3>
<p>This collection is meant to store the available measurement techniques, ideally in a globally unique naming scheme (within the Expands/Panosc EU programs standardization on these topics is pursued). Datasets can link to these techniques, allowing for more detailed information about the measurement method applied.</p>
<h3 id="origdatablocks-and-datablocks">OrigDatablocks and Datablocks</h3>
<p>Since SciCat contains only metadata, it must include links to the actual storage location of the data. This typically consists of lists of <code>DataFile</code> objects storing the file path, size, ownership, and checksum (but not the data itself). Since the data may be stored on tape archives or otherwise transformed, each file in a dataset is typically recorded in two places:</p>
<ol>
<li><code>OrigDatablock</code> stores the path to the file on the original system at the time of ingestion into SciCat.</li>
<li><code>Datablock</code> stores the path to the file on the archive system. The <code>archiveId</code> property is used by the storage management system (not part of SciCat) to retrieve the data. For instance, a simple <code>archiveId</code> might give a path on to a tar bundle on the local tape storage. Some facilities omit <code>Datablock</code>s from their databases and use conventions for determining the data location based only on the <code>OrigDatablock</code> paths.</li>
</ol>
<p>Large datasets may split files into multiple <code>OrigDatablock</code>s and <code>Datablock</code>s. The details of this are facility specific, and could reflect local organizational preferences or performance considerations. For instance, datasets with many files are often split into multiple <code>OrigDatablock</code> objects to avoid too-large MongoDB objects. Conversely, very large files may be split across several <code>Datablock</code>s during archiving due to limitations of the storage hardware.</p>
<p>You should always add the <code>OrigDataBlock</code> information when ingesting, whereas the Datablocks information is optional and would be filled later by the archive system, when it did its work of writing chunks of data to tape. For instance, a <code>Datablock</code>can correspond to a single tar file which is written to tape and the contents of the Datablock is essentially the file listing of the tar file.</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/OrigDatablock.create" target="_blank">here</a> and <a href="https://scicatproject.github.io/api/#operation/Datablock.create" target="_blank">here</a>.</p>
<h3 id="job">Job</h3>
<p>When a user wants to archive, retrieve or publish a dataset, SciCat must interact with the facility's storage and archiving system. This is done by creating a <code>Job</code> to track the interaction. The exact actions taken for each Job are often customized for each facility. A common action would be to forward the new Job entry to a Message Broker, e.g. RabbitMQ, from where it can be picked up by any program willing to react to this Job. For example, at PSI the RabbitMQ queue is emptied by a Node-RED process, which reads the Job information from the RabbitMQ queue. Alternatively, you can use other messaging solutions, such as Apache Kafka. In this way the (site specific) logic to handle the Jobs is kept outside the core of the SciCat system, giving a greater degree of flexibility. The external systems should ideally respond with updates to the Job model, when the job is finished. As the job progresses, the system can make PUT/PATCH API calls back that update the <code>Job Status</code> etc and, when necessary, also the individual status of the involved datasets by updating the DatasetLifecycle information.</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/Job.create" target="_blank">here</a>.</p>
<h3 id="proposals">Proposals</h3>
<p>A proposal is a written intention declaration of what kind of measurement people want to perform when and where. Such information is often available in an existing system outside of the data catalog, like digital user office systems for institutes which offer their instruments to other users.</p>
<p>This information can be synchronized into SciCat and facilitates the definition of the ownership of the datasets as well as providing information relevant for publication of data, such as principal investigators, abstracts etc. datasets are normally uniquely associated with one proposal.</p>
<p>The proposal information is however optional</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/Proposal.create" target="_blank">here</a>.</p>
<h3 id="publisheddata">PublishedData</h3>
<p>When Datasets are published you assign a DOI to a <strong>list</strong> of datasets. The PublishedData model keeps track of these information, i.e which dataset is being published, authorship, abstract and download links to access the corresponding file contents of the datasets.</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/PublishedData.create" target="_blank">here</a>.</p>
<h3 id="usersettings">UserSettings</h3>
<p>This collection stores user preferences, such as the list of pre-selected columns in the dataset dashboard view, defaults for the table page size etc.</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/UserSetting.create" target="_blank">here</a>.</p>
<h3 id="attachment">Attachment</h3>
<p>Some of the above mentioned models can have files (usually images) attached. The size is limited to 16MB for one attachment. Attachments are stored in the database.</p>
<p>The data model and its API endpoints are described <a href="https://scicatproject.github.io/api/#operation/Attachment.create" target="_blank">here</a>.</p>
<h2 id="explorer">Explorer</h2>
<p>When you have an instance of the data catalog running, the API endpoints and the related data models can be looked at at the following URL:</p>
<ul>
<li><backend_url>/explorer/</backend_url></li>
<li><a href="https://scicat.ess.eu/explorer/" target="_blank">Example instance from ESS</a></li>
</ul>
<p>The API explorer is a feature of Loopback and allows one to test various endpoints. This section outlines the core functionality. The first point to note is that requests require a token. You can use the <code>login</code> route under the <code>User</code> tab to obtain one of these, or use a CURL command.</p>
<h3 id="main-screen">Main Screen</h3>
<p>The top right entry field is where the token should be included. The token will define your access rights, so not all routes will be accessible. Each model has a tab which relates to its endpoint. Expanding the tab shows the routes section below.</p>
<p><img src="img/explorer.png" alt="explorer"></img></p>
<h3 id="routes">Routes</h3>
<p>Each section outlines the routes for the chosen model. This is configurable but the HTTP verbs are supported here for most routes and conform to the standards. Error codes are also consistent. Expanding the chosen route allows one to test the response with sample data, or their own.</p>
<p><img src="img/explorer_routes.png" alt="routes"></img></p>
<h3 id="single-route">Single Route</h3>
<p>Selecting a route shows the expected JSON object and provides an editor to allow you to test the route. Response information is shown below.
Clicking the <code>data type</code> box will insert it into your request for easy testing.</p>
<p><img src="img/explorer_single_route.png" alt="route"></img></p>
<h3 id="model">Model</h3>
<p>The model view can be accessed by clicking the link next to <code>Example Value</code> and shows the fields that Loopback is expecting to receive, as well as their type and whether they are required.</p>
<p><img src="img/explorer_model.png" alt="model"></img></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="developers_guide.html" class="navigation navigation-prev " aria-label="Previous page: Developer Guide">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="running.html" class="navigation navigation-next " aria-label="Next page: Running the Components">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"An Introduction to the Data Model","level":"1.5.2.4","depth":3,"next":{"title":"Running the Components","level":"1.5.2.5","depth":3,"path":"Development/v4.x/running.md","ref":"Development/v4.x/running.md","articles":[]},"previous":{"title":"Developer Guide","level":"1.5.2.3","depth":3,"path":"Development/v4.x/developers_guide.md","ref":"Development/v4.x/developers_guide.md","articles":[]},"dir":"ltr"},"config":{"plugins":["chapter-fold","mermaid-gb3"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"chapter-fold":{},"mermaid-gb3":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"SciCat Documentation","gitbook":"*"},"file":{"path":"Development/v4.x/Data_Model.md","mtime":"2025-05-07T13:48:51.178Z","type":"markdown"},"gitbook":{"version":"5.1.4","time":"2025-05-07T13:49:01.491Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mermaid-gb3/book/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    <script src="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.min.js"></script>

    </body>
</html>

