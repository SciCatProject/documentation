
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Migration v3.x to v4.x Â· SciCat Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 5.1.4">
        
        
        
    
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    


    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../Documentation.html" />
    
    
    <link rel="prev" href="frontend/testing.md" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    SciCat Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../Users/">
            
                <a href="../../Users/">
            
                    
                    User Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../Users/Anonymous.html">
            
                <a href="../../Users/Anonymous.html">
            
                    
                    Anonymous View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../Users/Login.html">
            
                <a href="../../Users/Login.html">
            
                    
                    Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../Users/Dashboard.html">
            
                <a href="../../Users/Dashboard.html">
            
                    
                    Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../Users/Dataset_Details.html">
            
                <a href="../../Users/Dataset_Details.html">
            
                    
                    Dataset Details
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../Users/Dataset_Details_Files.html">
            
                <a href="../../Users/Dataset_Details_Files.html">
            
                    
                    Dataset Filelisting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../../Users/Dataset_Attachments.html">
            
                <a href="../../Users/Dataset_Attachments.html">
            
                    
                    Dataset Attachments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="../../Users/View_Raw_Metadata.html">
            
                <a href="../../Users/View_Raw_Metadata.html">
            
                    
                    View Raw JSON data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.4" data-path="../../Users/Edit_Scientific_Metadata.html">
            
                <a href="../../Users/Edit_Scientific_Metadata.html">
            
                    
                    Edit Scientific Metadata
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../Users/Publishing.html">
            
                <a href="../../Users/Publishing.html">
            
                    
                    Dataset Publishing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../Users/Jobs.html">
            
                <a href="../../Users/Jobs.html">
            
                    
                    Archival and Retrieval Jobs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../Users/SampleData.html">
            
                <a href="../../Users/SampleData.html">
            
                    
                    Sample Data Entry
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../Operator/">
            
                <a href="../../Operator/">
            
                    
                    Operator Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../Operator/Step_by_Step_Setup.html">
            
                <a href="../../Operator/Step_by_Step_Setup.html">
            
                    
                    Step by Step instruction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../Operator/Step_by_Step_Setup_Docker.html">
            
                <a href="../../Operator/Step_by_Step_Setup_Docker.html">
            
                    
                    Deploy with Docker Compose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../Operator/Step_by_Step_Setup_Kubernetes.html">
            
                <a href="../../Operator/Step_by_Step_Setup_Kubernetes.html">
            
                    
                    Deploy with Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../Operator/Step_by_Step_Setup_Zip_Service.html">
            
                <a href="../../Operator/Step_by_Step_Setup_Zip_Service.html">
            
                    
                    Deploy Zip Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../Ingestor/">
            
                <a href="../../Ingestor/">
            
                    
                    Ingestor Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../Ingestor/ingestManual.html">
            
                <a href="../../Ingestor/ingestManual.html">
            
                    
                    Ingest Manual PSI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../Ingestor/IngestManual_ESS.html">
            
                <a href="../../Ingestor/IngestManual_ESS.html">
            
                    
                    Ingest Instructions ESS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../Ingestor/GettingMetadataIntoScicat.html">
            
                <a href="../../Ingestor/GettingMetadataIntoScicat.html">
            
                    
                    Manual Ingest the Hard Way
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../">
            
                <a href="../">
            
                    
                    Developers Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../v3.x/">
            
                <a href="../v3.x/">
            
                    
                    v3.x
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../v3.x/StartHere.html">
            
                <a href="../v3.x/StartHere.html">
            
                    
                    Overview of Backend and Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../v3.x/Data_Model.html">
            
                <a href="../v3.x/Data_Model.html">
            
                    
                    An Introduction to the Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="../v3.x/Running.html">
            
                <a href="../v3.x/Running.html">
            
                    
                    Running the Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="../v3.x/Configuration.html">
            
                <a href="../v3.x/Configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.5" data-path="../v3.x/Theming.html">
            
                <a href="../v3.x/Theming.html">
            
                    
                    Theming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.6" data-path="../v3.x/Login.html">
            
                <a href="../v3.x/Login.html">
            
                    
                    Login and Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.7" data-path="../v3.x/OIDC.html">
            
                <a href="../v3.x/OIDC.html">
            
                    
                    OIDC Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.8" data-path="../v3.x/Ngrx.html">
            
                <a href="../v3.x/Ngrx.html">
            
                    
                    State Management in Angular
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.9" data-path="../v3.x/Testing_backend.html">
            
                <a href="../v3.x/Testing_backend.html">
            
                    
                    Testing Backend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.10" data-path="../v3.x/Testing.html">
            
                <a href="../v3.x/Testing.html">
            
                    
                    Testing Frontend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.11" data-path="../v3.x/Contributing.html">
            
                <a href="../v3.x/Contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.12" data-path="../v3.x/Development_Methods.html">
            
                <a href="../v3.x/Development_Methods.html">
            
                    
                    Git Flow Workflow
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="./">
            
                <a href="./">
            
                    
                    v4.x
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="overview.html">
            
                <a href="overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="contributing.html">
            
                <a href="contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="developers_guide.html">
            
                <a href="developers_guide.html">
            
                    
                    Developer Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4" data-path="Data_Model.html">
            
                <a href="Data_Model.html">
            
                    
                    An Introduction to the Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.5" data-path="running.html">
            
                <a href="running.html">
            
                    
                    Running the Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6" data-path="configuration.html">
            
                <a href="configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.6.1" data-path="backend/configuration.html">
            
                <a href="backend/configuration.html">
            
                    
                    Backend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.6.1.1" data-path="backend/configuration/jobconfig.html">
            
                <a href="backend/configuration/jobconfig.html">
            
                    
                    Jobs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2" data-path="backend/authorization.html">
            
                <a href="backend/authorization.html">
            
                    
                    Authorization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.6.2.1" data-path="backend/authorization/authorization_datasets.html">
            
                <a href="backend/authorization/authorization_datasets.html">
            
                    
                    Datasets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.2" data-path="backend/authorization/authorization_origdatablocks.html">
            
                <a href="backend/authorization/authorization_origdatablocks.html">
            
                    
                    OrigDatablocks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.3" data-path="backend/authorization/authorization_proposals.html">
            
                <a href="backend/authorization/authorization_proposals.html">
            
                    
                    Proposals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.4" data-path="backend/authorization/authorization_jobs.html">
            
                <a href="backend/authorization/authorization_jobs.html">
            
                    
                    Jobs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.5" data-path="backend/authorization/authorization_instruments.html">
            
                <a href="backend/authorization/authorization_instruments.html">
            
                    
                    Instruments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.6" data-path="backend/authorization/authorization_users.html">
            
                <a href="backend/authorization/authorization_users.html">
            
                    
                    Users
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.2.7" data-path="backend/authorization/authorization_samples.html">
            
                <a href="backend/authorization/authorization_samples.html">
            
                    
                    Samples
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.3" data-path="elasticsearch/elasticsearch.html">
            
                <a href="elasticsearch/elasticsearch.html">
            
                    
                    Elastic Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6.4" data-path="frontend/configuration.html">
            
                <a href="frontend/configuration.html">
            
                    
                    Frontend
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.7" data-path="Theming.md">
            
                <span>
            
                    
                    Theming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.8" data-path="Login.html">
            
                <a href="Login.html">
            
                    
                    Login and Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.9" data-path="OIDC.md">
            
                <span>
            
                    
                    OIDC Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.10" data-path="testing.md">
            
                <span>
            
                    
                    Testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.10.1" data-path="backend/testing_backend.html">
            
                <a href="backend/testing_backend.html">
            
                    
                    Backend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.10.1.1" data-path="backend/testing/instrument.html">
            
                <a href="backend/testing/instrument.html">
            
                    
                    Instrument
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.10.1.2" data-path="backend/testing/user_authorization.html">
            
                <a href="backend/testing/user_authorization.html">
            
                    
                    User Authorization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.10.2" data-path="frontend/testing.md">
            
                <span>
            
                    
                    Frontend
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.5.2.11" data-path="Migration.html">
            
                <a href="Migration.html">
            
                    
                    Migration v3.x to v4.x
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../Documentation.html">
            
                <a href="../Documentation.html">
            
                    
                    Documentation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Migration v3.x to v4.x</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="migrating-from-the-old-scicat-backend">Migrating from the old SciCat Backend</h1>
<p>SciCat v4.x is a major rewrite from <a href="https://github.com/SciCatProject/backend-v3" target="_blank">v3.x</a>. The backend has been rewritten in typescript. It uses NestJS rather than Loopback 3 for the API, and includes a large number of new features. Version 3 is now considered deprecated and will receive only maintenance updates.</p>
<p>This document is intended to help users of backend-v3 migrate to v4. It also describes major breaking changes between the two versions that will need to be updated in scicat clients or scripts.</p>
<h2 id="database-changes">Database changes</h2>
<p>Where the <a href="https://github.com/SciCatProject/backend" target="_blank">current SciCat Backend</a> accepts id fields in the database named <code>pid</code>, <code>doi</code>, or similar, this implementation requires there to be an id field of the form <code>_id</code> on every document. It is therefore necessary to run a database migration script towards MongoDB instance from a place where you have access to it and can install <code>migrate-mongo</code> package.</p>
<p>All database <a href="https://github.com/SciCatProject/scicat-backend-next/tree/master/migrations" target="_blank">migration scripts</a> are located in the <a href="https://github.com/SciCatProject/scicat-backend-next/tree/master/migrations" target="_blank">migrations</a> folder.</p>
<ul>
<li>To run the migrations locally you just need to install all dependencies and run <code>npm run start</code> which will run the migrations first and start the application. If you want to run the migrations manually you can install <code>migrate-mongo</code> package globally and run <code>migrate-mongo up</code> or if it is already installed locally because is part of the dependencies it is possible to just run: <code>node ./node_modules/migrate-mongo/bin/migrate-mongo.js up</code>.</li>
<li>To run the migrations on the server you will need to copy the <a href="https://github.com/SciCatProject/scicat-backend-next/tree/master/migrations" target="_blank">migration scripts</a> together with <a href="https://github.com/SciCatProject/scicat-backend-next/blob/master/migrate-mongo-config.js" target="_blank"><code>migrate-mongo-config.js</code></a> file to a location were you can access your MongoDB instance and have <code>migrate-mongo</code> package installed either globally(which is preferred) or locally if global installation is not possible. Then modify the config file to contain your MongoDB instance details like database name and url. Once modified, start the migration by running</li>
</ul>
<pre><code class="lang-sh">migrate-mongo up
</code></pre>
<p>if <code>migrate-mongo</code> is installed globally at the location where you want to run it from or if it is locally installed just run</p>
<pre><code class="lang-sh">./node_modules/migrate-mongo/bin/migrate-mongo.js up
</code></pre>
<h2 id="api-changes">API changes</h2>
<h3 id="base-url">Base URL</h3>
<p>The scicat API was previously served at <code>/api/v3</code>. Many of the endpoints are backwards
compatible and are still served at the same address. However, several schemas have added
non-backwards-compabible features (eg. <code>Datasets</code>, <code>Attachements</code>, and <code>Jobs</code>). For
these it is recommended to access the new <code>/api/v4</code> endpoints. Old <code>/api/v3</code> endpoints
are still available for backwards compatibility, but will be removed in a future
version.</p>
<!-- TODO: provide more details about the updated DTOs -->
<h3 id="authorization">Authorization</h3>
<p>Version 3 endpoints were authenticated by including an <code>access_token</code> query parameter in
the URL. Following best practices, this has been changed to use the HTTP <code>Authorization:
Bearer</code> header to pass the access token. All scicat clients must be updated for this
change, even those using the otherwise backwards-compatible <code>/api/v3</code> endpoints.</p>
<h2 id="migration-documentation-and-nestjs-resources">Migration documentation and NestJs resources</h2>
<p>Following are the post that I found useful working on the migration:</p>
<ul>
<li>Schema and DTOs: <a href="https://betterprogramming.pub/how-to-use-data-transfer-objects-dto-for-validation-in-nest-js-7ff95309f650" target="_blank">https://betterprogramming.pub/how-to-use-data-transfer-objects-dto-for-validation-in-nest-js-7ff95309f650</a></li>
<li>Validation:<ul>
<li><a href="https://docs.nestjs.com/techniques/validation" target="_blank">Official documentation</a></li>
<li><a href="https://dev.to/avantar/custom-validation-with-database-in-nestjs-gao" target="_blank">Custom validation with datasbase in NestJs</a></li>
<li><a href="https://dev.to/avantar/validating-nested-objects-with-class-validator-in-nestjs-1gn8" target="_blank">Validating nested objects with class-validator in NestJs</a></li>
<li><a href="https://dev.to/avantar/validating-numeric-query-parameters-in-nestjs-gk9" target="_blank">Validating numeric query parameters in NestJS</a></li>
<li><a href="https://dev.to/avantar/injecting-request-object-to-a-custom-validation-class-in-nestjs-5dal" target="_blank">Injecting request object to a custom validation class in NestJS</a></li>
</ul>
</li>
<li>Swagger and OpenAPI:<ul>
<li><a href="https://docs.nestjs.com/openapi/introduction" target="_blank">https://docs.nestjs.com/openapi/introduction</a></li>
<li><a href="https://docs.nestjs.com/openapi/types-and-parameters" target="_blank">https://docs.nestjs.com/openapi/types-and-parameters</a></li>
<li><a href="https://docs.nestjs.com/openapi/decorators" target="_blank">https://docs.nestjs.com/openapi/decorators</a></li>
</ul>
</li>
</ul>
<hr></hr>
<p>For the full documentation please go to the <a href="https://scicatproject.github.io/" target="_blank">SciCat home page</a> and follow the <a href="https://scicatproject.github.io/documentation" target="_blank">documentation link</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="frontend/testing.md" class="navigation navigation-prev " aria-label="Previous page: Frontend">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../Documentation.html" class="navigation navigation-next " aria-label="Next page: Documentation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Migration v3.x to v4.x","level":"1.5.2.11","depth":3,"next":{"title":"Documentation","level":"1.5.3","depth":2,"path":"Development/Documentation.md","ref":"Development/Documentation.md","articles":[]},"previous":{"title":"Frontend","level":"1.5.2.10.2","depth":4,"path":"Development/v4.x/frontend/testing.md","ref":"Development/v4.x/frontend/testing.md","articles":[]},"dir":"ltr"},"config":{"plugins":["chapter-fold","mermaid-gb3"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"chapter-fold":{},"mermaid-gb3":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"SciCat Documentation","gitbook":"*"},"file":{"path":"Development/v4.x/Migration.md","mtime":"2025-06-02T10:14:38.606Z","type":"markdown"},"gitbook":{"version":"5.1.4","time":"2025-06-02T10:14:42.909Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mermaid-gb3/book/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    <script src="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.min.js"></script>

    </body>
</html>

